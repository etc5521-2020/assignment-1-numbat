---
title: "ETC5521 Assignment 1"
subtitle: "Your title"
team: [FILL]
author:
  - [FILL]
  - [FILL]
date: "`r Sys.Date()`"
output: 
  html_document
---

[This assignment is for ETC5521 Assignment 1 by Team `r rmarkdown::metadata$team` comprising of `r knitr::combine_words(rmarkdown::metadata$author)`.]{style="color:#006DAE;"}

```{r setup, include = FALSE}
library(tidyverse)
library(visdat)
library(naniar)

knitr::opts_chunk$set(echo = FALSE, message = FALSE, fig.align = 'center')
```


# Introduction and motivation

[FILL] Give the bigger picture of the data, and inspire the reader to learn more about the problem by reading your analysis. 

# Data description
```{r}
passwords <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-01-14/passwords.csv')
 
```

Based upon the motivations discussed above, the following research questions were formulated. The primary subject of interest was:

> What type of passwords do most people use? 

Once this exploration area was established, three questions were composed to parameterise the proceeding analysis. They were:

1.	What are the most commonly used passwords?
2.	How strong are the common passwords?
3.	Is high strength related to longer password crack time ?

In order to address these areas and explore the field in greater depth, data was sourced from the book *Information is Beautiful* (2014). This contained information on 507 passwords derived from online databases *Skullsecurity* and *DigiNinja* collected in 2014. The data was provided in a tidy format and was read into R Studio in a csv format directly from the GitHub repository provided by *Tidy Tuesday* (2020) using the *readr* (2018) package. The data contained the following variables:

- rank: popularity of password
- password: actual text of the password
- category: password type category
- value: time to crack password by online guessing
- time_unit: unit of time for corresponding value
- offline_crack_sec: time to crack offline in seconds
- rank_alt: alternative value for rank (same value as rank in all cases)
- strength: relative strength of password from 1 to 10
- font_size: used externally to create graphic for Knowledge is Beautiful (2014)

A visualisation of the data structure can be seen below in Figure 1 using the *visdat* package (2017).

```{r structure, fig.cap = "Initial Data Structure"}
vis_dat(passwords)
```

This graphic highlighted two areas that the data needed to be altered. Firstly, the variable category was recoded to a factor variable rather than a character as this was determined to be a categorical variable. Secondly, there appeared to be some missing observations in the dataset. This was examined further in Figure 2, produced using the *naniar* (2020) package, which showed that all these values were evenly distributed across the tail end of the data set.
```{r missing, fig.cap = "Missing Data Values"}
vis_miss(passwords)
```


On further investigation there appeared to be 7 blank rows at the end of the dataset. These observations were subsequently removed using *dplyr* (2020) as they may have negatively impacted the proceeding analysis and provided no tangible value. The final resulting data frame had 500 observations of 9 variables.

```{r cleaneddata}
clean_passwords <- passwords %>%
  mutate(category = as.factor(category)) %>%
  filter(!is.na(rank))
```


# Analysis and findings

[FILL] Should include at least one plot or numerical summary for each of your questions, that helps the reader arrive at an answer. You should also write paragraphs describing the methods, summaries and findings.


## How strong are the common passwords?

The strength of these common passwords is an interesting feature to explore as variable *strength* is relative to the passwords in the dataset. Since these are commonly used passwords, their strength is expected to be less and easier to crack. The following analysis has been done to explore the dataset,to determine how strong the passwords are.Through out the analysis , the variable *offline_crack_sec* (the time taken to crack the password by offline guessing) is considered instead of the variable  *value* , which depicts the time taken to crack the password by online guessing as both of these values are proportional to each other and the results remain the same while comparisons between passwords. 

```{r initial,echo=FALSE}
library(ggplot2)
library(ggpomological) 
library(tidyverse)
library(plotly)
library(ggplot2)
library(ggridges)
library(scales)
library(gganimate)
library(ggthemes)
library(crosstalk)
library(bookdown)

  strong <- clean_passwords%>% 
  filter(!is.na(rank)) %>%
   mutate(meter = case_when(strength >=0 & strength <4 ~ "very weak", #categorising strength 
                                   strength >=4 & strength < 6 ~ "weak",
                                   strength >=6 & strength < 8 ~ "medium",
                                   strength >=8 & strength <=10 ~ "strong",
                                   strength >10 ~ "very strong"),
                                   meter=as.factor(meter)) %>% 
  mutate(online_crack_sec = case_when(time_unit == "seconds" ~ value, # conversion of online cracking time into seconds. 
                             time_unit == "minutes" ~ value * 60,
                             time_unit == "hours" ~ value * 60 * 60,
                             time_unit == "days" ~ value * 60 * 60 * 24,
                             time_unit == "weeks" ~ value * 60 * 60 * 24 * 7,
                             time_unit == "months" ~ value * 60 * 60 * 24 * 365/12,
                             time_unit == "years" ~ value * 60 * 60 * 24 * 365))



```

```{r , eval=FALSE}
install.packages("devtools")
devtools::install_github("gadenbuie/ggpomological")
```


```{r plo, warning=FALSE, echo=FALSE, message=FALSE,fig.cap= " Figure 6 : 43.6 % of the passwords are relatively high in strength"}

plo <- strong %>%
  group_by(meter) %>%  #proportion of the strength category 
  count(meter) %>%
  mutate(prop = n / nrow(strong) * 100) %>%
  arrange(desc(prop))
 

plot <- plot_ly(plo,
        labels = ~ meter, #pie chart 
        values = ~ prop,
        type = 'pie') %>%
  layout(
    title = 'How strong are the most common passwords?',
    xaxis = list(
      showgrid = FALSE,
      zeroline = FALSE,
      showticklabels = FALSE
    ),
    yaxis = list(
      showgrid = FALSE,
      zeroline = FALSE,
      showticklabels = FALSE
    )
  )
plot
```

In the figure above , it can be seen that about 43.6 % of the commonly used passwords are passwords with relative strength between 8 and 10 on scale of 1-10 with 10 being the highest quality among these passwords.35.4 % of the passwords fall in the medium category having relative strength between 6 and 8 where as 9.2 % has a weak strength of 4-6.Very Weak category passwords of strength 0-4 constitute around 8.8 % of the passwords given. Around 3 % of the top 500 common passwords are of strength above 10 which is an interesting outlier because it varies greatly from the strength scale limits of 1-10 set in the dataset description.Since these vary greatly from typical strength, the passwords with strength more than 10 will not be included in the data analysis. 

Another important characteristic to judge a password is to analyze the time taken to crack it. In order to analyze the time taken to crack the popular passwords,the top 10 common passwords are taken into consideration by using *rank* as a variable.As seen in figure 2 , passwords like "1234","12345" ,"123456" and "12345678" are so popular as a word that it is very easily cracked taking approximately 0 seconds.Given the argument that popularity of the passwords is the reason that the passwords are predictable and therefore easily cracked,it is also interesting to see that "password" even though being the ranked one in popularity, is among passwords like "football" and "baseball" that takes relatively more time to get cracked. 

```{r rankings, fig.cap="Figure 7 : As expected 1234 is quick to be cracked"}

options(scipen = 999)
ranking <- strong %>% filter(strength<=10) %>%
  arrange((rank)) %>%
  head(10) %>%
  ggplot(aes(y = password, x = offline_crack_sec, color = password)) +
  geom_point() +
  
  geom_text(aes(label = password, size = -rank),
            nudge_x = 0.18,
            nudge_y = -0.3) +
  xlim(0, 2.5) +
  scale_color_gdocs() + theme_bw() +
  theme(legend.position = "none")  +
  theme(
    axis.title.y = element_blank(),
    axis.text.y = element_blank(),
    axis.ticks.y = element_blank()
  ) + 
  xlab("Time taken to crack (seconds)")+
  ggtitle("Time taken to crack the 10 most common passwords")+
  
  theme(plot.title = element_text(hjust = 0.5))
ggplotly(ranking) 

```

The passwords in the dataset belong to different categories like "simple-alphanumeric" ,"animal" etc.To find which types of passwords are the strongest,the analysis focuses on the password strength and the time taken to crack them . In order to see the distribuition of the strength of the passwords belonging to each category, a density plot is drawn below as figure 9 using the *ggridges (2020)* package.A median line is drawn so as to compare the strength across the categories.It can be seen from the plot that password types such as "names","sport","cool-macho" and "nerdy-pop" are much higher in strength than the other categories as 50 % of these passwords have strength higher than 8.  

```{r, fig.height= 6 , fig.cap="Figure 8 : Password categories like 'simple-alphanumeric' have low strength compared to other categories"}

p <- ggplot(data=(strong%>% filter(strength<=10)), aes(y = category, x = strength, fill = category)) +
  
  
  geom_density_ridges(
    quantile_lines = TRUE,
    quantiles = 2,
    alpha = 0.5,
    scale = 0.96
  ) +
  
  scale_y_discrete(expand = c(0.1, 0.2)) +
  theme_ridges(grid = FALSE, center = TRUE) +
  scale_fill_tableau() +
  
  
  geom_text(
    data = strong %>%
      filter(strength<=10)%>%
      group_by(category) %>% summarize(strength = median(strength)) %>%
      filter((category != "animal")),
    aes(label = round(strength, digits = 1)),
    position = position_nudge(y = -0.15),
    check_overlap = TRUE,
    color = "black"
  ) +
  
  geom_text(
    data = strong %>% 
      filter(strength<=10)%>%
      group_by(category) %>% summarize(strength = median(strength)) %>% filter(category ==
                                                                                                 "animal"),
    aes(label = paste0("median = ", round(strength, digits = 2))),
    position = position_nudge(y = -0.2),
    color = "black"
  ) +
  
  theme_bw() +
  theme(legend.position = "none")  +
  theme(axis.title.y = element_blank()) +
  xlab("Relative Strength") + ylab("Password Category") +
  ggtitle("Strength of Password Categories") +
  theme(plot.title = element_text(hjust = 0.5))
p



```

For further investigation of evidences to determine which type of passwords are among the strongest, time to crack the passwords are also evaluated.In order to do so the mean of the variable *offline_crack_sec* is plotted against each category in the figure 10 below. The figure below shows an interesting pattern that shows the category "rebellious-rude" passwords on an average takes the longest  time to be hacked even though the median of the strength of its passwords are not as much as password types like "nerdy-pop" and "sport".Similar pattern is seen in "password-related" types. It can also be seen that types like "fluffy" even though it has high strength , the average time to hack its password is very less.

```{r average_time ,fig.cap="Figure 9 : Password categories like 'simple-alphanumeric','fluffy' and 'food' are few of the weak categories"}
strong %>% filter(strength<=10) %>%
  group_by(category) %>%
  summarise(average_time=mean(offline_crack_sec)) %>% 
   ggplot(aes(x=category, y= average_time,color=category))+
  geom_point(alpha = 2, size = 2) +
  geom_text(aes(label= category),nudge_y = 0.01,check_overlap = TRUE)+
  scale_color_gdocs() +
  theme_bw() +
  theme(legend.position="none")  + 
   theme(axis.text.x=element_blank(),
        axis.ticks.x=element_blank())+
  ggtitle("Average time to crack the password category")+
  theme(plot.title = element_text(hjust = 0.5))+
  xlab("Password Category")+
  ylab("Average time")
  

```
To answer the question of which password type is the strongest among these passwords, it can be said that "rebellious-rude" ,"cool-macho" type passwords are good contenders. 

## Is high strength related to longer password crack time ?

The interesting pattern seen in the evaluation of password category strength and hacking time as well as seen in figure 7 where the password ,"password" being ranked 1 in popularity and predictability takes comparitively longer time to get hacked, prompts the question,*Is high strength related to longer password crack time ?* To answer this question, the top 20 passwords that take the longest amount of time to get cracked as well as the top 20 passwords with high strength is taken into consideration. Apart from this, The password categories and its hacking time is also evaluated. 

```{r time ,fig.cap="Figure 10 : 30% of the passwords with high strength has long crack time" }

time_table <- strong %>% filter(strength<=10) %>%
  arrange(desc(offline_crack_sec)) %>%
  head(20)
strength_table <- strong %>%filter(strength<=10) %>%
  arrange(desc(strength)) %>%
  head(20)

strength_time_plot <- strength_table %>%
  filter(password %in% (time_table$password)) %>%
  select(rank, password, offline_crack_sec, strength) %>%
  ggplot(aes(y = password, x = offline_crack_sec, color = strength)) +
  geom_point() +
  
  geom_text(aes(label = password))+
           
  theme_bw() +
  theme(
    axis.title.y = element_blank(),
    axis.text.y = element_blank(),
    axis.ticks.y = element_blank()
  ) + xlab("Time taken to crack (seconds)") +
  ggtitle("Passwords with high relative strength and long crack time")+
  theme(plot.title = element_text(hjust = 0.5))

strength_time_plot

```

As seen in the Figure 10 , only 6 out of 20 passwords with high relative strength had long password crack time and figure 11 shows that there is no relationship between the hacking time and password strength. Therefore,it can be concluded that not all high strength takes longer to be hacked. 

```{r time_strength, fig.height=6,fig.cap="Figure 11 : There seems to be no apparent relationship between password strength and hacking time"}

time_strength <- strong %>% filter(strength<=10) %>%
  ggplot(aes(x=(strength), y= offline_crack_sec,color=category))+
  geom_point(alpha = 2, size = 2) +
  scale_color_viridis_d() +
theme_bw() +
   xlab("Relative Strength") +
  ylab("Time to crack,(s)") +
  ggtitle("Hacking time Vs Relative Strength")+
  theme(plot.title = element_text(hjust = 0.5))
ggplotly(time_strength)
  
```

# Conclusion 

Through the exploratory data analysis of the dataset on Top 500 commonly used passwords,it was observed that most people tend to choose passwords that can be easily remembered ,therefore a simple password that is related to a name or contains alphanumeric characters and roughly 6-7 characters long is chosen as password. On exploring further it was found that 43.6 % of the commonly used passwords are relatively high in strength and that around 3% of the passwords were of very high strength which varied greatly from typical passwords. Furthermore ,it was observed that among the password categories,types "rebellious-rude" ,"cool-macho" are considered strong and takes relatively more time to get hacked.Another striking discovery made while analyzing the data is that the hacking time and the strength of the passwords in the dataset is not under any strict relationship and that not all passwords with high strength takes long to be cracked and also, not all passwords with low strength are cracked easily as there have been instances of high strength password being hacked quicker than a low strength password. 

It can be concluded that most people choose common passwords that can be easily hacked and that using any of the passwords in the dataset is not recommended. 

# References


